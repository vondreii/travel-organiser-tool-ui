<div class="my-trips-component">
  <div class="header">
    <div>
      <h1>My Trips</h1>
    </div>
    <div class="filters">
      Filter by trip name: <input type="text" id="filterTripName" [ngModel]="selectedFilterName" (ngModelChange)="filterTable($event, 'name')">
    </div>
    <div>
      <button class="plusButton" (click)="onAddTrip()">+</button>
    </div>
  </div>
  
  <div class="tripItem" *ngFor="let trip of filteredTrips">
    <div class="tripHeader">
      <div>
        <h2><b>{{trip.Name}}</b></h2>
        <p>
          <span class="fas fa-map-marker noOfDestinationIcon"></span> 
          {{trip.NoOfDestinations > 0 ? trip.NoOfDestinations : 'No'}} Destinations
        </p>
      </div>
      <div class="editTripButton" (click)="onEditTrip(trip.Id)">
        Edit <span class="fa-solid fa-pen"></span>
      </div>
    </div>
    <div *ngIf="trip.TripStops.length > 0">
      <div class="tripStop" *ngFor="let tripStop of trip.TripStops">
        <div class="leftSection">
          <!-- Placeholder image, this will be the destination image -->
          <img src="assets/images/destinations/{{tripStop.DestinationImageFileName}}" width="200px" />
        </div>
        <div class="rightSection">
          <div class="tripStopDetail">
            <span class="fas fa-globe countryRegionIcons"></span> <p>{{tripStop.CountryName}}</p>
            <ng-container *ngIf="tripStop.CountryName !== tripStop.RegionName">
              <span class="fas fa-globe countryRegionIcons"></span> <p>{{tripStop.RegionName}}</p>
            </ng-container>
          </div>
          <h2>{{tripStop.DestinationName}}</h2>
        </div>
      </div>
    </div>
    <hr>
  </div>

  <addTripDialog *ngIf="dialogService.isDialogOpen" (itemAdded)="loadData()"></addTripDialog>
</div>
